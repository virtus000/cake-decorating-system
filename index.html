<!DOCTYPE html>
<html>
<head>
  <title>Cake Decorating System</title>
</head>
<body>

<!-- Cake image, magbabago depende sa query string ?design=1â€“6 -->
<img id="cakeImage" src="https://via.placeholder.com/300x200.png?text=Cake+Placeholder" alt="Cake Design" width="300">

<!-- Textbox para sa message -->
<input type="text" id="message" placeholder="Type your message here">

<!-- Submit button -->
<button onclick="submitForm()">Submit</button>

<script>
function submitForm() {
    const messageBox = document.getElementById("message"); // kunin input element
    const message = messageBox.value; // kunin text

    if (!message) { // simple validation
        alert("Please type a message!");
        return;
    }

    // Kunin design number mula sa query string
    const params = new URLSearchParams(window.location.search);
    const design = params.get("design") || 1;

    // I-send sa Web App
    fetch("https://script.google.com/macros/s/AKfycbxHn5JU2XWyl4lrc-4248QpL0YTWsuEjykfypqWeggO80fOF9ktmqt6urMHAb_uXFDb/exec", {  // <-- palitan ng Web App URL mo
        method: "POST",
        body: JSON.stringify({ design: design, message: message }),
    })
    .then(response => response.text())
    .then(data => {
        alert("Submitted successfully!");
        messageBox.value = ""; // clear textbox after submit
    })
    .catch(err => alert("Error: " + err));
}

// Optional: auto-load cake image depende sa query string
window.onload = function() {
    const params = new URLSearchParams(window.location.search);
    const design = params.get("design") || 1;
    document.getElementById("cakeImage").src = `https://github.com/virtus000/cake-decorating-system/blob/main/cake1%20(1)%20(1).png`;
};
</script>

</body>
</html>
